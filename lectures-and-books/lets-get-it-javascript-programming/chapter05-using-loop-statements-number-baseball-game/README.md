# 반복문 사용하기 _숫자야구 게임

숫자야구 게임을 간단히 설명하면 다음과 같다..

1. 먼저 상대편이 숫자 1~9 중에서 중복되지 않게 네 개를 고른다.(더 어렵게 만들려면 0을 포함)
2. 10번의 기회가 주어지고 상대편이 고른 숫자 네 개를 맞히면 된다.
3. 숫자만 맞히는 것이 아니라 숫자의 순서까지 맞혀야 한다.
4. 틀릴 때마다 힌트를 준다.
5. 맞힌 숫자의 개수(볼), 숫자뿐만 아니라 순서까지 맞힌 개수(스트라이크)를 알려준다.

예를 들어, 상대편이 5728을 뽑았다고 가정해 보자. 플레이어가 7129를 말한다면, 상대는 1스트라이크, 1볼이라고 말해준다. 7은 숫자만 맞혀서 볼이고, 2는 숫자에 순서(세 번째)까지 맞혀서 스트라이크이다. 마찬가지로 플레이어가 7528을 말한다면, 2스트라이크 2볼이 되고, 7285를 말한다면 4볼이 된다. 5728을 말한다면 4스트라이크(홈런)가 되어 이기게 된다. 그리고 10번의 기회 안에 맞히지 못한다면 상대편이 승리한다. 이 게임은 스트라이크와 볼이라는 용어가 사용되어서 숫자야구라는 이름이 붙은 것이지 실제로는 야구와 아무 관련이 없다.

숫자야구 게임에서는 반복문을 많이 사용한다. 같이 게임을 만들면서 간단한 반복문부터 복잡한 반복문까지 해보자.

## 5.1 순서도 그리기

우선 숫자야구 게임의 룰만 가지고 직접 순서도를 그려보았다.

![직접 그린 순서도](images/my-flowchart.png)

책에서 소개하는 순서도를 보는 순간, 내가 빼먹은 게 무엇인지 알 수 있었다. 말한 답의 형식이 맞는지 검사하는 로직이 빠졌던 것이다. 제출한 답의 형식이 중복되지 않은 네 자리 숫자인지 확인이 필요하다. 그리고 절차의 순서도 다르다.

![그림 5-1 숫자야구 순서도](images/5-1.jpg)

숫자야구는 두 명이 하는 게임이지만, 컴퓨터를 상대편으로 간주해서 순서도를 작성했다고 한다.

컴퓨터가 무작위로 숫자 네 개를 뽑으면 사용자는 답을 입력창에 입력한다. 답을 입력하는 이벤트가 발생하면 먼저 답의 형식이 맞는지 검사하고(중복되지 않은 네 자리 숫자) 홈런인지 검사한다. 홈런이라면 승리, 아니라면 10번을 초과해서 시도했는지 검사하고, 10번 초과했다면 패배가 된다. 그것도 아니라면 몇 스트라이크에 몇 볼인지 검사해서 화면에 표시한다.

`number-baseball.html`파일을 만들어 아래 코드와 같이 작성한다.

```html
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>숫자야구</title>
</head>
<body>
  <form id="form">
    <input type="text" id="input">
    <button>확인</button>
  </form>
  <div id="logs"></div>
  <script>
    const $input = document.querySelector('#input');
    const $form = document.querySelector('#form');
    const $logs = document.querySelector('#logs');
  </script>
</body>
</html>
```

## 5.2 무작위로 숫자 뽑기

순서도는 단순하지만, 각각의 절차를 구현할 때는 